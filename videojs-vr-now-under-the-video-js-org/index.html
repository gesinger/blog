<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>videojs-vr Is Now Under The Video.js Org | Video.js Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Brightcove and Video.js have adopted the videojs-vr plugin as a first class plugin.It’s out now with support for Video.js 6! Where did it come from?This plugin has a long history and has had many main">
<meta name="keywords" content="vr, 360, plugins">
<meta property="og:type" content="article">
<meta property="og:title" content="videojs-vr Is Now Under The Video.js Org">
<meta property="og:url" content="http://blog.videojs.com/videojs-vr-now-under-the-video-js-org/index.html">
<meta property="og:site_name" content="Video.js Blog">
<meta property="og:description" content="Brightcove and Video.js have adopted the videojs-vr plugin as a first class plugin.It’s out now with support for Video.js 6! Where did it come from?This plugin has a long history and has had many main">
<meta property="og:locale" content="default">
<meta property="og:updated_time" content="2018-02-21T16:56:57.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="videojs-vr Is Now Under The Video.js Org">
<meta name="twitter:description" content="Brightcove and Video.js have adopted the videojs-vr plugin as a first class plugin.It’s out now with support for Video.js 6! Where did it come from?This plugin has a long history and has had many main">
  
    <link rel="alternate" href="/rss" title="Video.js Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-16505296-4', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Video.js Blog</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/rss" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://blog.videojs.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-videojs-vr-now-under-the-video-js-org" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    
  <a href="https://github.com/brandonocasey" class="article-author">
  <img src="https://github.com/brandonocasey.png?size=30" class="author_gravatar" height="30">
  <span class="author_name">Brandon Casey</span>


    <a href="/videojs-vr-now-under-the-video-js-org/" class="article-date">
  <time datetime="2018-02-21T16:36:00.000Z" itemprop="datePublished">2018-02-21</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      videojs-vr Is Now Under The Video.js Org
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Brightcove and Video.js have adopted the videojs-vr plugin as a first class plugin.<br>It’s out now with support for Video.js 6!</p>
<h2 id="Where-did-it-come-from"><a href="/videojs-vr-now-under-the-video-js-org/#Where-did-it-come-from" class="headerlink" title="Where did it come from?"></a>Where did it come from?</h2><p>This plugin has a long history and has had many maintainers.<br>It started as <a href="https://github.com/slawrence/videojs-vr" target="_blank" rel="noopener">slawrence/videojs-vr</a>. From there it became <a href="https://github.com/metacdn/videojs-vr" target="_blank" rel="noopener">metacdn/videojs-vr</a>. Then there was a private collaberation between <a href="https://streamshark.io" target="_blank" rel="noopener">StreamShark.io</a>, <a href="https://www.brightcove.com" target="_blank" rel="noopener">Brightcove</a>, and <a href="http://corp.hapyak.com/" target="_blank" rel="noopener">HapYak</a>. Eventually we decided to treat this plugin like a first class citizen. So we updated it to the <a href="http://docs.videojs.com/tutorial-plugins.html#writing-an-advanced-plugin" target="_blank" rel="noopener">advanced plugin API</a>, fixed a few long-standing issues, documented other issues along the way, and moved it to the Video.js Organization.</p>
<h2 id="How-do-you-know-a-video-is-360-VR"><a href="/videojs-vr-now-under-the-video-js-org/#How-do-you-know-a-video-is-360-VR" class="headerlink" title="How do you know a video is 360/VR?"></a>How do you know a video is 360/VR?</h2><h3 id="On-desktop-players"><a href="/videojs-vr-now-under-the-video-js-org/#On-desktop-players" class="headerlink" title="On desktop players"></a>On desktop players</h3><p>In a non-browser environment this question is easily answered, because there is a generally agreed upon standard. The video itself should have metadata indicating that the video is a 360/VR video and how to display it. Even outside of the browser though it is a bit tricky because most programs (even ffmpeg) don’t support the insertion of this metadata. In fact a lot of them will strip said metadata as they think it is invalid. That is where a project called <a href="https://github.com/google/spatial-media" target="_blank" rel="noopener">Spatial Media Metadata Injector</a> comes in. <a href="https://github.com/google/spatial-media" target="_blank" rel="noopener">Spatial Media Metadata Injector</a> injects  360/VR metadata into the video without changing anything else.<br>That allows players like VLC to know that a video is 360/VR.</p>
<h3 id="How-does-videojs-vr-do-it"><a href="/videojs-vr-now-under-the-video-js-org/#How-does-videojs-vr-do-it" class="headerlink" title="How does videojs-vr do it?"></a>How does videojs-vr do it?</h3><p>The browser does not expose video metadata in an API so we would have to parse it ourselves, which isn’t really an option. So in videojs-vr we have a <code>projection</code> option that can be passed in during plugin initialization.</p>
<p>The first and default setting for <code>projection</code> is <code>&#39;AUTO&#39;</code>. Setting <code>projection</code> to <code>&#39;AUTO&#39;</code> tells videojs-vr to look at <code>player.mediainfo.projection</code>. <code>player.mediainfo.projection</code> will have to be set by some external plugin/script which is told by a server that the current video is 360/VR. The <code>player.mediainfo.projection</code> of a video can be any of the following:</p>
<ul>
<li><code>&#39;360&#39;</code>, <code>&#39;Sphere&#39;</code>, or <code>&#39;equirectangular&#39;</code>: The video is a sphere</li>
<li><code>&#39;Cube&#39;</code> or <code>&#39;360_CUBE&#39;</code>: The video is a cube</li>
<li><code>&#39;NONE&#39;</code>: This video is not a 360 video, the videojs-vr plugin should do nothing. this would not have to be set as it will be assumed if no projection exists.</li>
<li><code>&#39;360_LR&#39;</code>: Used for side-by-side 360 videos</li>
<li><code>&#39;360_TB&#39;</code>: Used for top-to-bottom 360 videos</li>
</ul>
<p>Otherwise, the <code>projection</code> can manually be set on plugin initialization to any of the above values. The plugin can then be disposed and re-initialized for each video with a different setting.</p>
<h2 id="What-happens-after-after-we-know-a-video-is-360-VR"><a href="/videojs-vr-now-under-the-video-js-org/#What-happens-after-after-we-know-a-video-is-360-VR" class="headerlink" title="What happens after after we know a video is 360/VR?"></a>What happens after after we know a video is 360/VR?</h2><p>Using the current projection value we determine what we need to show on our <a href="https://github.com/mrdoob/three.js" target="_blank" rel="noopener">three.js</a> canvas. From there we use the polyfilled (via <a href="https://github.com/googlevr/webvr-polyfill" target="_blank" rel="noopener">webvr-polyfill</a> or real <a href="https://developer.mozilla.org/en-US/docs/Web/API/VRDisplay" target="_blank" rel="noopener">VRDisplay API</a> to set up controls. If the device has a VIVE, Oculus, etc plugged in we use that. If not we display the video in 360 mode where the mouse/keyboard/accelerometer control the video. On mobile devies there is also a button to go into cardboard mode which will show the video as two smaller videos separated by a line. This is so that the video can be viewed using pseudo VR headsets (such as google cardboard) and a phone. While the video is playing we use animation frames to animate the VideoTexture on the three.js canvas. That allows us to show the correct portion of the video based on the controls that the user is inputting.</p>
<h2 id="Why-is-it-so-huge"><a href="/videojs-vr-now-under-the-video-js-org/#Why-is-it-so-huge" class="headerlink" title="Why is it so huge?"></a>Why is it so huge?</h2><p>We all agree that the plugin is huge, but due to the fact that all browsers do not natively support the VRDisplay API, we have to include a lot of big dependencies in our project. Mainly the size comes from the following:</p>
<ol>
<li><a href="https://github.com/mrdoob/three.js" target="_blank" rel="noopener">three.js</a> which we use to create the VR/360 canvas, and implementing it on our own would be painful</li>
<li><a href="https://github.com/googlevr/webvr-polyfill" target="_blank" rel="noopener">webvr-polyfill</a> which polyfills VR features for browsers that don’t currently support VR (outside of experimental flags and builds)</li>
</ol>
<h2 id="Debugging"><a href="/videojs-vr-now-under-the-video-js-org/#Debugging" class="headerlink" title="Debugging"></a>Debugging</h2><p>Every object from three.js and webvr manager (from webvr-boilerplate) is available on the instance of the VR plugin that will is returned by <code>player.vr()</code>.</p>
<h2 id="Known-Issues"><a href="/videojs-vr-now-under-the-video-js-org/#Known-Issues" class="headerlink" title="Known Issues"></a>Known Issues</h2><ul>
<li>Multiple players on the same page will share controls, panning in one video will pan in the other.</li>
</ul>
<h2 id="The-Future"><a href="/videojs-vr-now-under-the-video-js-org/#The-Future" class="headerlink" title="The Future"></a>The Future</h2><ul>
<li>Implementing player level controls rather than window controls. This will allow individual videos to be controlled separately based on the current focus.</li>
<li>A menu so that multiple VR displays can be used rather than just the first one that we find.</li>
</ul>
<h2 id="To-see-the-code-submit-an-issue-suggest-a-feature-or-submit-a-pr"><a href="/videojs-vr-now-under-the-video-js-org/#To-see-the-code-submit-an-issue-suggest-a-feature-or-submit-a-pr" class="headerlink" title="To see the code, submit an issue, suggest a feature, or submit a pr"></a>To see the code, submit an issue, suggest a feature, or submit a pr</h2><p>See the github repo <a href="https://github.com/videojs/videojs-vr" target="_blank" rel="noopener">videojs-vr</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://blog.videojs.com/videojs-vr-now-under-the-video-js-org/" data-id="cjdxbwr07003f9znsqtcrgoem" class="article-share-link">Share</a>
      
        <a href="http://blog.videojs.com/videojs-vr-now-under-the-video-js-org/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/vr-360-plugins/">vr, 360, plugins</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
  
    <a href="/Video-js-6-7-1-released/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Video.js 6.7.1 released</div>
    </a>
  
</nav>

  
</article>


<section id="comments">
  <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
</section>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Flash/">Flash</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/a11y/">a11y</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/accessibility/">accessibility</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/babel/">babel</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/code/">code</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/flash/">flash</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/fluid/">fluid</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/gallery/">gallery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hls/">hls</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/html5/">html5</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/html5-video/">html5 video</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/middleware/">middleware</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mse/">mse</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/news/">news</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/plugins/">plugins</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/release/">release</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/releases/">releases</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/stats/">stats</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/thumbcoil/">thumbcoil</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/version/">version</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/video-js-6-0/">video.js 6.0</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/videojs/">videojs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/videojs-5/">videojs 5</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vr-360-plugins/">vr, 360, plugins</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/webpack/">webpack</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Flash/" style="font-size: 11.67px;">Flash</a> <a href="/tags/a11y/" style="font-size: 11.67px;">a11y</a> <a href="/tags/accessibility/" style="font-size: 11.67px;">accessibility</a> <a href="/tags/babel/" style="font-size: 10px;">babel</a> <a href="/tags/code/" style="font-size: 15px;">code</a> <a href="/tags/flash/" style="font-size: 10px;">flash</a> <a href="/tags/fluid/" style="font-size: 10px;">fluid</a> <a href="/tags/gallery/" style="font-size: 10px;">gallery</a> <a href="/tags/hls/" style="font-size: 10px;">hls</a> <a href="/tags/html5/" style="font-size: 11.67px;">html5</a> <a href="/tags/html5-video/" style="font-size: 13.33px;">html5 video</a> <a href="/tags/middleware/" style="font-size: 11.67px;">middleware</a> <a href="/tags/mse/" style="font-size: 10px;">mse</a> <a href="/tags/news/" style="font-size: 18.33px;">news</a> <a href="/tags/plugins/" style="font-size: 11.67px;">plugins</a> <a href="/tags/release/" style="font-size: 10px;">release</a> <a href="/tags/releases/" style="font-size: 11.67px;">releases</a> <a href="/tags/stats/" style="font-size: 11.67px;">stats</a> <a href="/tags/thumbcoil/" style="font-size: 10px;">thumbcoil</a> <a href="/tags/version/" style="font-size: 20px;">version</a> <a href="/tags/video-js-6-0/" style="font-size: 16.67px;">video.js 6.0</a> <a href="/tags/videojs/" style="font-size: 10px;">videojs</a> <a href="/tags/videojs-5/" style="font-size: 10px;">videojs 5</a> <a href="/tags/vr-360-plugins/" style="font-size: 10px;">vr, 360, plugins</a> <a href="/tags/webpack/" style="font-size: 10px;">webpack</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">November 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">February 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">January 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/10/">October 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">August 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/07/">July 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/06/">June 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/09/">September 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/06/">June 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/02/">February 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/10/">October 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/09/">September 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/08/">August 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/07/">July 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/05/">May 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/03/">March 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/02/">February 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/11/">November 2013</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/10/">October 2013</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/09/">September 2013</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/08/">August 2013</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/07/">July 2013</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/06/">June 2013</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/05/">May 2013</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/11/">November 2012</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/07/">July 2012</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/03/">March 2012</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/01/">January 2012</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/06/">June 2011</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/02/">February 2011</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/01/">January 2011</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/12/">December 2010</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/11/">November 2010</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/10/">October 2010</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/09/">September 2010</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/videojs-vr-now-under-the-video-js-org/">videojs-vr Is Now Under The Video.js Org</a>
          </li>
        
          <li>
            <a href="/Video-js-6-7-1-released/">Video.js 6.7.1 released</a>
          </li>
        
          <li>
            <a href="/Video-js-6-5-0-Release/">Video.js 6.5.0 Release</a>
          </li>
        
          <li>
            <a href="/Video-js-6-4-0-Release/">Video.js 6.4.0 Release</a>
          </li>
        
          <li>
            <a href="/Video-js-6-0-Release/">Video.js 6.0 Release!</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2018 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    
<script>
  var disqus_shortname = 'videojs';
  
  var disqus_url = 'http://blog.videojs.com/videojs-vr-now-under-the-video-js-org/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>